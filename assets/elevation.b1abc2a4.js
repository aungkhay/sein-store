import{g as x,J as Z,q as p,p as y,m as W,K as ee,L as te,e as F,a as l,n as b,M as ne,N as D,O as re,P as ae,Q as se,R as h,S as M,h as oe,H as q,T as le,f as ie,U as A,t as ue,V as ce,s as P,x as de,y as V,W as ve,X as ge,A as fe,Y as U,Z as me,_ as be,v as Se,$ as ye}from"./index.f11f53e3.js";const _e=y({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),$e=x(!1)({name:"VDefaultsProvider",props:_e(),setup(e,n){let{slots:r}=n;const{defaults:t,disabled:s,reset:u,root:g,scoped:v}=Z(e);return p(t,{reset:u,root:g,scoped:v,disabled:s}),()=>{var m;return(m=r.default)==null?void 0:m.call(r)}}});function he(e){return{aspectStyles:b(()=>{const n=Number(e.aspectRatio);return n?{paddingBottom:String(1/n*100)+"%"}:void 0})}}const H=y({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...W(),...ee()},"VResponsive"),E=x()({name:"VResponsive",props:H(),setup(e,n){let{slots:r}=n;const{aspectStyles:t}=he(e),{dimensionStyles:s}=te(e);return F(()=>{var u;return l("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[s.value,e.style]},[l("div",{class:"v-responsive__sizer",style:t.value},null),(u=r.additional)==null?void 0:u.call(r),r.default&&l("div",{class:["v-responsive__content",e.contentClass]},[r.default()])])}),{}}});function L(e){return ne(()=>{const n=[],r={};if(e.value.background)if(D(e.value.background)){if(r.backgroundColor=e.value.background,!e.value.text&&re(e.value.background)){const t=ae(e.value.background);if(t.a==null||t.a===1){const s=se(t);r.color=s,r.caretColor=s}}}else n.push(`bg-${e.value.background}`);return e.value.text&&(D(e.value.text)?(r.color=e.value.text,r.caretColor=e.value.text):n.push(`text-${e.value.text}`)),{colorClasses:n,colorStyles:r}})}function Ne(e,n){const r=b(()=>({text:h(e)?e.value:n?e[n]:null})),{colorClasses:t,colorStyles:s}=L(r);return{textColorClasses:t,textColorStyles:s}}function Ce(e,n){const r=b(()=>({background:h(e)?e.value:n?e[n]:null})),{colorClasses:t,colorStyles:s}=L(r);return{backgroundColorClasses:t,backgroundColorStyles:s}}const ke=y({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Pe(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M();return{roundedClasses:b(()=>{const t=h(e)?e.value:e.rounded,s=h(e)?e.value:e.tile,u=[];if(t===!0||t==="")u.push(`${n}--rounded`);else if(typeof t=="string"||t===0)for(const g of String(t).split(" "))u.push(`rounded-${g}`);else(s||t===!1)&&u.push("rounded-0");return u})}}const Re=y({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),R=(e,n)=>{let{slots:r}=n;const{transition:t,disabled:s,group:u,...g}=e,{component:v=u?le:ie,...m}=typeof t=="object"?t:{};return oe(v,q(typeof t=="string"?{name:s?"":t}:m,typeof t=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:u}).filter(o=>{let[i,f]=o;return f!==void 0})),g),r)};function Ie(e,n){if(!A)return;const r=n.modifiers||{},t=n.value,{handler:s,options:u}=typeof t=="object"?t:{handler:t,options:{}},g=new IntersectionObserver(function(){var f;let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=arguments.length>1?arguments[1]:void 0;const o=(f=e._observe)==null?void 0:f[n.instance.$.uid];if(!o)return;const i=v.some(_=>_.isIntersecting);s&&(!r.quiet||o.init)&&(!r.once||i||o.init)&&s(i,v,m),i&&r.once?G(e,n):o.init=!0},u);e._observe=Object(e._observe),e._observe[n.instance.$.uid]={init:!1,observer:g},g.observe(e)}function G(e,n){var t;const r=(t=e._observe)==null?void 0:t[n.instance.$.uid];!r||(r.observer.unobserve(e),delete e._observe[n.instance.$.uid])}const Be={mounted:Ie,unmounted:G},Ve=Be,xe=y({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...H(),...W(),...ke(),...Re()},"VImg"),Te=x()({name:"VImg",directives:{intersect:Ve},props:xe(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,n){let{emit:r,slots:t}=n;const{backgroundColorClasses:s,backgroundColorStyles:u}=Ce(ue(e,"color")),{roundedClasses:g}=Pe(e),v=ce("VImg"),m=P(""),o=de(),i=P(e.eager?"loading":"idle"),f=P(),_=P(),d=b(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),C=b(()=>d.value.aspect||f.value/_.value||0);V(()=>e.src,()=>{I(i.value!=="idle")}),V(C,(a,c)=>{!a&&c&&o.value&&k(o.value)}),ve(()=>I());function I(a){if(!(e.eager&&a)&&!(A&&!a&&!e.eager)){if(i.value="loading",d.value.lazySrc){const c=new Image;c.src=d.value.lazySrc,k(c,null)}!d.value.src||ge(()=>{var c;r("loadstart",((c=o.value)==null?void 0:c.currentSrc)||d.value.src),setTimeout(()=>{var S;if(!v.isUnmounted)if((S=o.value)!=null&&S.complete){if(o.value.naturalWidth||$(),i.value==="error")return;C.value||k(o.value,null),i.value==="loading"&&z()}else C.value||k(o.value),N()})})}}function z(){var a;v.isUnmounted||(N(),k(o.value),i.value="loaded",r("load",((a=o.value)==null?void 0:a.currentSrc)||d.value.src))}function $(){var a;v.isUnmounted||(i.value="error",r("error",((a=o.value)==null?void 0:a.currentSrc)||d.value.src))}function N(){const a=o.value;a&&(m.value=a.currentSrc||a.src)}let B=-1;fe(()=>{clearTimeout(B)});function k(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const S=()=>{if(clearTimeout(B),v.isUnmounted)return;const{naturalHeight:w,naturalWidth:O}=a;w||O?(f.value=O,_.value=w):!a.complete&&i.value==="loading"&&c!=null?B=window.setTimeout(S,c):(a.currentSrc.endsWith(".svg")||a.currentSrc.startsWith("data:image/svg+xml"))&&(f.value=1,_.value=1)};S()}const T=b(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),J=()=>{var S;if(!d.value.src||i.value==="idle")return null;const a=l("img",{class:["v-img__img",T.value],style:{objectPosition:e.position},src:d.value.src,srcset:d.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:o,onLoad:z,onError:$},null),c=(S=t.sources)==null?void 0:S.call(t);return l(R,{transition:e.transition,appear:!0},{default:()=>[U(c?l("picture",{class:"v-img__picture"},[c,a]):a,[[ye,i.value==="loaded"]])]})},K=()=>l(R,{transition:e.transition},{default:()=>[d.value.lazySrc&&i.value!=="loaded"&&l("img",{class:["v-img__img","v-img__img--preload",T.value],style:{objectPosition:e.position},src:d.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),Q=()=>t.placeholder?l(R,{transition:e.transition,appear:!0},{default:()=>[(i.value==="loading"||i.value==="error"&&!t.error)&&l("div",{class:"v-img__placeholder"},[t.placeholder()])]}):null,X=()=>t.error?l(R,{transition:e.transition,appear:!0},{default:()=>[i.value==="error"&&l("div",{class:"v-img__error"},[t.error()])]}):null,Y=()=>e.gradient?l("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,j=P(!1);{const a=V(C,c=>{c&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{j.value=!0})}),a())})}return F(()=>{const a=E.filterProps(e);return U(l(E,q({class:["v-img",{"v-img--booting":!j.value},s.value,g.value,e.class],style:[{width:Se(e.width==="auto"?f.value:e.width)},u.value,e.style]},a,{aspectRatio:C.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>l(be,null,[l(J,null,null),l(K,null,null),l(Y,null,null),l(Q,null,null),l(X,null,null)]),default:t.default}),[[me("intersect"),{handler:I,options:e.options},null,{once:!0}]])}),{currentSrc:m,image:o,state:i,naturalWidth:f,naturalHeight:_}}}),je=y({border:[Boolean,Number,String]},"border");function we(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:M();return{borderClasses:b(()=>{const t=h(e)?e.value:e.border,s=[];if(t===!0||t==="")s.push(`${n}--border`);else if(typeof t=="string"||t===0)for(const u of String(t).split(" "))s.push(`border-${u}`);return s})}}const Oe=y({elevation:{type:[Number,String],validator(e){const n=parseInt(e);return!isNaN(n)&&n>=0&&n<=24}}},"elevation");function De(e){return{elevationClasses:b(()=>{const r=h(e)?e.value:e.elevation,t=[];return r==null||t.push(`elevation-${r}`),t})}}export{Ve as I,R as M,Te as V,Oe as a,ke as b,we as c,De as d,Pe as e,$e as f,L as g,Ne as h,Re as i,je as m,Ce as u};
