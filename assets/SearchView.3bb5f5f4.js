import{N,y as v,A as D,o as n,c as o,a,w as s,an as h,as as _,u as P,ap as i,ab as g,am as b,d as S,aq as u,b as r}from"./index.5942cd68.js";import{g as T,V as q,q as x,o as F,c as O,a as I}from"./VTextField.06419462.js";import{V as z,c as E,a as J,b as V}from"./VAppBarTitle.c59f5fb0.js";import{V as C,a as K,b as M,c as R,d as U}from"./VCard.6a23a98b.js";import{V as y}from"./VDivider.8a0b24a0.js";import{z as w}from"./VGrid.49438ead.js";const G={key:1,class:"d-flex justify-center mt-3"},H={key:0},Q={class:"d-flex justify-space-between"},W=r("div",null,"\u101D\u101A\u103A\u1005\u103B\u1031\u1038",-1),X=r("div",{class:"mt-3 font-weight-bold"},"\u101B\u1031\u102C\u1004\u103A\u1038\u1005\u103B\u1031\u1038",-1),Y=r("div",null,"\u1014\u1031\u102C\u1000\u103A\u1006\u102F\u1036\u1038\u1015\u103C\u1004\u103A\u1011\u102C\u1038\u101E\u1031\u102C\u1021\u1001\u103B\u1014\u103A",-1),Z={class:"d-flex justify-end"},oe={__name:"SearchView",setup(ee){const L=T(N("firebase")),d=v(""),c=v(!1),p=v([]),m=v([]),A=v({thekhu:"\u1010\u1005\u103A\u1001\u102F",thepar:"\u1010\u1005\u103A\u1016\u102C",thekhat:"\u1010\u1005\u103A\u1000\u1012\u103A",thetote:"\u1010\u1005\u103A\u1011\u102F\u1015\u103A",thesware:"\u1010\u1005\u103A\u1006\u103D\u1032",thebatethar:"\u1010\u1005\u103A\u1015\u102D\u103F\u102C",theduang:"\u1010\u1005\u103A\u1011\u1031\u102C\u1004\u103A\u1037",thebuu:"\u1010\u1005\u103A\u1017\u1030\u1038"});async function B(){c.value=!0;let t=x(O(L,"pricing"),F("createdAt"));I(t,l=>{l.empty?p.value=[]:p.value=l.docs.map(e=>({id:e.id,category_id:e.data().category_id,name:e.data().name,nickname:e.data().nickname,buy_price:e.data().buy_price,sale_price:JSON.parse(e.data().sale_price),createdAt:e.data().createdAt,updatedAt:e.data().updatedAt})),c.value=!1},l=>{c.value=!1})}function k(){d.value?(m.value=p.value.filter(t=>t.name.toLocaleLowerCase().includes(d.value.toLocaleLowerCase())),m.value.length==0&&(m.value=p.value.filter(t=>t.nickname.toLocaleLowerCase().includes(d.value.toLocaleLowerCase())))):m.value=[]}return D(()=>{B()}),(t,l)=>(n(),o("div",null,[a(z,{color:"primary"},{default:s(()=>[a(J,null,{default:s(()=>[a(V,{icon:"mdi-arrow-left",onClick:l[0]||(l[0]=e=>P(S).go(-1))}),i(" \u101B\u103E\u102C\u101B\u1014\u103A ")]),_:1})]),_:1}),c.value?_("",!0):(n(),h(q,{key:0,modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),variant:"solo",label:"\u1015\u1005\u1039\u1005\u100A\u103A\u1038\u1021\u1019\u100A\u103A\u101B\u102D\u102F\u1000\u103A\u1011\u100A\u103A\u1037\u1015\u102B","hide-details":"",clearable:"","onClick:clear":l[2]||(l[2]=e=>k()),onKeyup:l[3]||(l[3]=e=>k()),class:"py-2"},null,8,["modelValue"])),c.value?(n(),o("div",G,[a(E,{color:"primary",class:"mt-3",height:"10",rounded:"",indeterminate:""})])):_("",!0),a(C,{elevation:"0",class:"pa-2"},{default:s(()=>[a(K,null,{default:s(()=>[(n(!0),o(g,null,b(m.value,(e,$)=>(n(),h(M,{key:$,cols:"12",sm:"6",md:"4"},{default:s(()=>[a(C,null,{default:s(()=>[a(R,null,{default:s(()=>[i(u(e.name)+" ",1),e.nickname?(n(),o("span",H,"/ "+u(e.nickname),1)):_("",!0)]),_:2},1024),a(y,{class:"my-2"}),a(U,null,{default:s(()=>[r("div",Q,[W,r("div",null,u(t.$filters.formatPrice(e.buy_price)),1)]),a(y,{class:"my-2"}),X,(n(!0),o(g,null,b(e.sale_price,(f,j)=>(n(),o("div",{key:j,class:"d-flex justify-space-between mt-2"},[r("div",null,u(A.value[Object.keys(f)[0]])+"\u1005\u103B\u1031\u1038",1),r("div",null,u(t.$filters.formatPrice(f[Object.keys(f)[0]])),1)]))),128)),a(y,{class:"my-2"}),Y,r("div",null,u(t.$filters.formatDate(e.updatedAt)),1),a(y,{class:"my-2"}),r("div",Z,[a(V,{color:"success",class:"mr-2",onClick:f=>t.editPrice(e)},{default:s(()=>[a(w,null,{default:s(()=>[i("mdi-pencil")]),_:1}),i(" \u1015\u103C\u1004\u103A\u1019\u100A\u103A")]),_:2},1032,["onClick"]),a(V,{color:"error",onClick:f=>{t.deleteDialog=!0,t.selectedId=e.id}},{default:s(()=>[a(w,null,{default:s(()=>[i("mdi-trash-can")]),_:1}),i(" \u1016\u103B\u1000\u103A\u1019\u100A\u103A")]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))}};export{oe as default};
