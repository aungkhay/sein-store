import{N as L,y as i,A as E,o as f,c as V,a as e,w as a,as as $,u as M,ap as s,ab as P,am as R,b as y,aq as C,d as G,an as H}from"./index.f34aca30.js";import{g as J,q as K,o as O,c as T,a as Q,V as j,b as W,s as X,d as A,e as Y}from"./VTextField.811126d2.js";import{V as Z,c as h,a as ee,b as d}from"./VAppBarTitle.cf124ba5.js";import{V as g,a as ae,c as _,d as b,b as le}from"./VCard.b306c8ec.js";import{V as N}from"./VDialog.ac3439d5.js";import{V as te}from"./VSpacer.04047fd4.js";import{z as x}from"./VGrid.f433e209.js";const se={class:"py-2"},oe={key:0,class:"d-flex justify-center"},ne={key:0},ue={class:"d-flex justify-end"},ie={class:"d-flex justify-end mt-5"},ge={__name:"Category",setup(de){const v=J(L("firebase")),c=i(!1),p=i(!1),u=i(0),w=i([]),k=i(!1),o=i(!1),r=i(""),m=i("");function D(){o.value||(c.value=!1,r.value="",m.value="",u.value=0)}async function q(){k.value=!0;const n=K(T(v,"categories"),O("name"));Q(n,t=>{w.value=t.docs.map(l=>({id:l.id,name:l.data().name,nickname:l.data().nickname})),k.value=!1})}async function S(){if(r.value==""||m.value=="")return;o.value=!0;const n={name:r.value,nickname:m.value,createdAt:new Date().getTime(),updatedAt:new Date().getTime()};u.value==0?await W(T(v,"categories"),n):(delete n.createdAt,await X(A(v,"categories",u.value),n)),o.value=!1,D()}function U(n){u.value=n.id,r.value=n.name,m.value=n.nickname,c.value=!0}function B(){o.value||(u.value=0,p.value=!1)}async function F(){o.value=!0,await Y(A(v,"categories",u.value)),o.value=!1,B()}return E(()=>{q()}),(n,t)=>(f(),V("div",se,[e(Z,{color:"primary"},{default:a(()=>[e(ee,null,{default:a(()=>[e(d,{icon:"mdi-arrow-left",onClick:t[0]||(t[0]=l=>M(G).go(-1))}),s(" \u1021\u1019\u103B\u102D\u102F\u1038\u1021\u1005\u102C\u1038 ")]),_:1}),e(te),e(d,{icon:"mdi-plus",onClick:t[1]||(t[1]=l=>c.value=!0)})]),_:1}),k.value?(f(),V("div",oe,[e(h,{color:"primary",class:"mt-3",height:"10",rounded:"",indeterminate:""})])):$("",!0),e(g,{elevation:"0",class:"pa-2"},{default:a(()=>[e(ae,null,{default:a(()=>[(f(!0),V(P,null,R(w.value,(l,z)=>(f(),H(le,{key:z,cols:"12",sm:"6",md:"3"},{default:a(()=>[e(g,null,{default:a(()=>[e(_,null,{default:a(()=>[s(C(l.name)+" ",1),l.nickname?(f(),V("span",ne,"/ "+C(l.nickname),1)):$("",!0)]),_:2},1024),e(b,{class:"d-flex justify-end"},{default:a(()=>[e(d,{color:"success",class:"mr-2",onClick:I=>U(l)},{default:a(()=>[e(x,null,{default:a(()=>[s("mdi-pencil")]),_:1}),s(" \u1015\u103C\u1004\u103A\u1019\u100A\u103A")]),_:2},1032,["onClick"]),e(d,{color:"error",onClick:I=>{p.value=!0,u.value=l.id}},{default:a(()=>[e(x,null,{default:a(()=>[s("mdi-trash-can")]),_:1}),s(" \u1016\u103B\u1000\u103A\u1019\u100A\u103A")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),e(N,{modelValue:c.value,"onUpdate:modelValue":t[6]||(t[6]=l=>c.value=l),width:"400",persistent:"",transition:"dialog-bottom-transition"},{default:a(()=>[e(g,null,{default:a(()=>[e(_,{class:"d-flex justify-space-between align-center"},{default:a(()=>[y("div",null,C(u.value==0?"\u1021\u101E\u1005\u103A\u1011\u100A\u103A\u1037\u101B\u1014\u103A":"\u1015\u103C\u1004\u103A\u101B\u1014\u103A"),1),e(d,{icon:"mdi-close",color:"error",variant:"text",onClick:t[2]||(t[2]=l=>D())})]),_:1}),e(b,null,{default:a(()=>[e(j,{modelValue:r.value,"onUpdate:modelValue":t[3]||(t[3]=l=>r.value=l),label:"\u1021\u1019\u100A\u103A\u101B\u102D\u102F\u1000\u103A\u1011\u100A\u103A\u1037\u1015\u102B","hide-details":""},null,8,["modelValue"]),e(j,{modelValue:m.value,"onUpdate:modelValue":t[4]||(t[4]=l=>m.value=l),label:"\u1021\u1001\u103C\u102C\u1038\u1021\u1019\u100A\u103A\u101B\u102D\u102F\u1000\u103A\u1011\u100A\u103A\u1037\u1015\u102B","hide-details":"",class:"mt-5"},null,8,["modelValue"]),y("div",ue,[e(d,{color:"primary",class:"mt-5",onClick:t[5]||(t[5]=l=>S()),size:"x-large",loading:o.value,disabled:o.value},{default:a(()=>[e(x,null,{default:a(()=>[s("mdi-content-save")]),_:1}),s(" \u101E\u102D\u1019\u103A\u1038\u1019\u100A\u103A")]),_:1},8,["loading","disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(N,{modelValue:p.value,"onUpdate:modelValue":t[9]||(t[9]=l=>p.value=l),width:"400",persistent:"",transition:"dialog-bottom-transition"},{default:a(()=>[e(g,null,{default:a(()=>[e(_,null,{default:a(()=>[s("\u1015\u103C\u101A\u103A\u1016\u103B\u1000\u103A\u1019\u100A\u103A")]),_:1}),e(b,null,{default:a(()=>[s(" \u1016\u103B\u1000\u103A\u101B\u1014\u103A \u101E\u1031\u1001\u103B\u102C\u1015\u102B\u101E\u101C\u102C\u1038? "),y("div",ie,[e(d,{onClick:t[7]||(t[7]=l=>B()),class:"mr-3",color:"error"},{default:a(()=>[s("\u1019\u1016\u103B\u1000\u103A\u1010\u1031\u102C\u1037\u1015\u102B")]),_:1}),e(d,{onClick:t[8]||(t[8]=l=>F()),color:"success",loading:o.value,disabled:o.value},{default:a(()=>[s("\u1016\u103B\u1000\u103A\u1019\u100A\u103A")]),_:1},8,["loading","disabled"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{ge as default};
